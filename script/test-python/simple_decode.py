#!/usr/bin/env python3
"""Simple decoder - just paste the base64 or hex data."""
import gzip
import base64

# The actual raw bytes from the compressed data (extracted manually)
# This is the gzip header followed by compressed data
hex_data = """
1f8b0800000000000000 74520Ocb4e00c330 1004bce72bac3d37
2849011fa01ea1a2 5710a80821141479 b91811c3bd89b3b0
242fd7764f791540 c41859d9dd1ccacb f13c64049983310 532752d1b43abdad
5a952ad68d1f1fee db864f7fee91700 9bf77b7561963797 1fd7c5052d0cc0fc
f3ebeca82a80ceb0 b4cda6ad4859482d ca291dc20209a9fc ff2599312f249200
4172b51075ad5523 a4d0d376b2d00b29 a6617696e791bed7 560907f4309c674f
0f098c7dc77fd834 68343f61cebed16 1d2a0f708fbc4298 1f97981803676790
e15875799ee28660 1ad4831ce0c13009 d0f09c71d0e00d7d de7c19999e9bab1e
0000dc184b3c248b 90009ef700c8f668 61ad008cf275e990 5b6b82009acdb465
39504130ddf261b3 dc750dd893f4f6f6 897685d6d5a2ac9b e611400ce071c3bb
4141e89bece1e93e 300825ae19bfbb9e c403a512b2541570 da0f4a011c45008d
b267f60df20e2a3b 00009241badf0066 fed20fede2557a69 ffa6df9d8f0ffd1e
10025b4259b60e00 a51200a789fb3587 e1a3fdb7762c393a 060f6ea384000496
90b81453480f5c73 f4e0efe0ffefecb1 336e55a990a5deb5 4fc04e1dac936f90
10000ffff030058 519f690603000000 0d0a
"""

# Remove whitespace and newlines
hex_data = hex_data.replace('\n', '').replace(' ', '')

# But we need just the gzip part, let me extract from the actual output
# The data field from the 4th JSON event starts with \u001f\u008b (gzip magic)

# Let's read it as individual bytes
data = bytes([
    0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x74, 0x52, 0x00, 0xcb, 0x4e,
    0xe3, 0x83, 0x30, 0x10, 0x04, 0xbc, 0xe7, 0x2b, 0xac, 0x3d, 0x37, 0x28, 0x49, 0x01, 0x1f, 0xa0,
    0x1e, 0xa1, 0xa2, 0x57, 0x10, 0xa8, 0x08, 0x21, 0x14, 0x14, 0x79, 0xb9, 0x18, 0x11, 0xc3, 0xbd,
    0x89, 0xb3, 0xb0, 0x24, 0x2f, 0xd7, 0x76, 0x4f, 0x79, 0x15, 0x40, 0xc4, 0x18, 0x59, 0xd9, 0xdd,
    0x1c, 0xca, 0xcb, 0xf1, 0x3c, 0x64, 0x04, 0x99, 0x83, 0x31, 0x05, 0x32, 0x75, 0x2d, 0x1b, 0x43,
    0xab, 0xda, 0xd5, 0xa9, 0x52, 0xad, 0x68, 0xd1, 0xf1, 0xfe, 0xed, 0xb8, 0x64, 0xf7, 0xfe, 0xe9,
    0x17, 0x00, 0x9b, 0xf7, 0x7b, 0x75, 0x61, 0x96, 0x37, 0x97, 0x1f, 0xd7, 0xc5, 0x05, 0x2d, 0x0c,
    0xc0, 0xfc, 0xf3, 0xeb, 0xec, 0xa8, 0x2a, 0x80, 0xce, 0xb0, 0xb4, 0xcd, 0xa6, 0xad, 0x48, 0x59,
    0x48, 0x2d, 0xca, 0x29, 0x1d, 0xc2, 0x02, 0x09, 0xa9, 0xfc, 0xff, 0x25, 0x99, 0x31, 0x2f, 0x24,
    0x92, 0x00, 0x41, 0x72, 0xb5, 0x10, 0x75, 0xad, 0x55, 0x23, 0xa4, 0xd0, 0xd3, 0x76, 0xb2, 0xd0,
    0x0b, 0x29, 0xa6, 0x61, 0x76, 0x96, 0xe7, 0x91, 0xbe, 0xd7, 0x56, 0x09, 0x07, 0xf4, 0x30, 0x9c,
    0x67, 0x4f, 0x0f, 0x09, 0x8c, 0x7d, 0xc7, 0x7f, 0xd8, 0x34, 0x68, 0x34, 0x3f, 0x61, 0xce, 0xbe,
    0xd1, 0x61, 0xd2, 0xa0, 0xf7, 0x08, 0x8f, 0xbc, 0x42, 0x98, 0x1f, 0x97, 0x98, 0x18, 0x03, 0x67,
    0x67, 0x90, 0xe1, 0x58, 0x75, 0x79, 0x9e, 0xe2, 0x86, 0x60, 0x1a, 0xd4, 0x83, 0x1c, 0xe0, 0xc1,
    0x30, 0x09, 0xd0, 0xf0, 0x9c, 0x71, 0xd0, 0xe0, 0x0d, 0x7d, 0xde, 0x7c, 0x19, 0x99, 0x9e, 0x9b,
    0xab, 0x1e, 0x00, 0x00, 0xdc, 0x18, 0x4b, 0x3c, 0x24, 0x8b, 0x90, 0x00, 0x9e, 0xf7, 0x00, 0xc8,
    0xf6, 0x68, 0x61, 0xad, 0x00, 0x8c, 0xf2, 0x75, 0xe9, 0x90, 0x5b, 0x6b, 0x82, 0x00, 0x9a, 0xcd,
    0xb4, 0x65, 0x39, 0x50, 0x41, 0x30, 0xdd, 0xf2, 0x61, 0xb3, 0xdc, 0x75, 0x0d, 0xd8, 0x93, 0xf4,
    0xf6, 0xf6, 0x89, 0x76, 0x85, 0xd6, 0xd5, 0xa2, 0xac, 0x9b, 0xe6, 0x11, 0x40, 0x0c, 0xe0, 0x71,
    0xc3, 0xbb, 0x41, 0x41, 0xe8, 0x9b, 0xec, 0xe1, 0xe9, 0x3e, 0x30, 0x08, 0x25, 0xae, 0x19, 0xbf,
    0xbb, 0x9e, 0xc4, 0x03, 0xa5, 0x12, 0xb2, 0x54, 0x15, 0x70, 0xda, 0x0f, 0x4a, 0x01, 0x1c, 0x45,
    0x00, 0x8d, 0xb2, 0x67, 0xf6, 0x0d, 0xf2, 0x0e, 0x2a, 0x3b, 0x00, 0x00, 0x92, 0x41, 0xba, 0xdf,
    0x00, 0x66, 0xfe, 0xd2, 0x0f, 0xed, 0xe2, 0x55, 0x7a, 0x69, 0xff, 0xa6, 0xdf, 0x9d, 0x8f, 0x0f,
    0xfd, 0x1e, 0x10, 0x02, 0x5b, 0x42, 0x59, 0xb6, 0x0e, 0x00, 0xa5, 0x12, 0x00, 0xa7, 0x89, 0xfb,
    0x35, 0x87, 0xe1, 0xa3, 0xfd, 0xb7, 0x76, 0x2c, 0x39, 0x3a, 0x06, 0x0f, 0x6e, 0xa3, 0x84, 0x00,
    0x04, 0x96, 0x90, 0xb8, 0x14, 0x53, 0x48, 0x0f, 0x5c, 0x73, 0xf4, 0xe0, 0xef, 0xe0, 0xff, 0xef,
    0xec, 0xb1, 0x33, 0x6e, 0x55, 0xa9, 0x90, 0xa5, 0xde, 0xb5, 0x4f, 0xc0, 0x4e, 0x1d, 0xac, 0x93,
    0x6f, 0x90, 0x10, 0x00, 0x00, 0xff, 0xff, 0x03, 0x00, 0x58, 0x51, 0x9f, 0x69, 0x06, 0x03, 0x00, 0x00, 0x00
])

print(f"Compressed size: {len(data)} bytes")

try:
    decompressed = gzip.decompress(data)
    print(f"Decompressed size: {len(decompressed)} bytes\n")
    print("=== DECOMPRESSED RESPONSE ===")
    print(decompressed.decode('utf-8'))

    import json
    response = json.loads(decompressed)
    print("\n=== ASSISTANT MESSAGE ===")
    print(response['choices'][0]['message']['content'])
except Exception as e:
    print(f"Error: {e}")
    import traceback
    traceback.print_exc()
